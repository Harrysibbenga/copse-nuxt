(window.webpackJsonp=window.webpackJsonp||[]).push([[28,26],{446:function(t,e,l){"use strict";l.d(e,"a",(function(){return n}));l(26),l(47);var n={props:{size:{type:Number,required:!1,default:8}},data:function(){return{pageNumber:0}},computed:{pageCount:function(){if(this.items){var t=this.items.length,s=this.size;return Math.ceil(t/s)}return 0},paginatedData:function(){var t=this.pageNumber*this.size,e=t+this.size;return this.items?this.items.slice(t,e):[]}},methods:{nextPage:function(){this.pageNumber++},prevPage:function(){this.pageNumber--}}}},447:function(t,e,l){"use strict";l.r(e);var n={props:{msg:{type:Object,required:!0,default:function(){return{}}}}},o=l(60),r=l(61),c=l.n(r),d=l(688),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[""!=t.msg.message?l("v-alert",{attrs:{dense:"",text:"",type:t.msg.type}},[t._v("\n    "+t._s(t.msg.message)+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAlert:d.a})},450:function(t,e,l){var content=l(472);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(21).default)("6e5c4f64",content,!0,{sourceMap:!1})},460:function(t,e,l){"use strict";l.r(e);var n={props:{image:{type:Object,default:function(){return{url:"",alt:"",id:""}}},type:{type:String,required:!0}},data:function(){return{defaultImg:{url:"https://firebasestorage.googleapis.com/v0/b/jhr-developments-c5bba.appspot.com/o/images%2Fimg-placeholder.png?alt=media&token=7d9c5978-d45d-4049-91d9-ceb235823db7",alt:"Placeholder Image"}}},computed:{postImage:{get:function(){return this.image},set:function(t){this.$emit("update:image",t)}},images:function(){return this.$store.getters["images/"+this.type+"Images"]}}},o=(l(471),l(60)),r=l(61),c=l.n(r),d=l(428),m=l(430),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("v-row",[l("v-col",{attrs:{cols:"12"}},[""!=t.postImage.url?l("img",{staticClass:"img-fluid",attrs:{src:t.postImage.url,alt:t.postImage.alt}}):l("img",{staticClass:"img-fluid",attrs:{src:t.defaultImg.url,alt:t.defaultImg.alt}})]),t._v(" "),l("ModalsUploadModal",{attrs:{image:t.postImage,type:t.type},on:{"update:image":function(e){t.postImage=e}}}),t._v(" "),l("ModalsSelectImageModal",{attrs:{item:t.postImage,images:t.images},on:{"update:item":function(e){t.postImage=e}}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{ModalsUploadModal:l(468).default,ModalsSelectImageModal:l(469).default}),c()(component,{VCol:d.a,VRow:m.a})},468:function(t,e,l){"use strict";l.r(e);l(34),l(8),l(78);var n=l(42),o={props:{image:{type:Object,default:function(){return{}}},type:{type:String,required:!0}},data:function(){return{file:"",uploadImage:!1,exists:!1,exisitsImg:{},uploadedImage:{alt:"",url:"",id:""},payload:{file:"",alt:"",type:""}}},computed:{uploadMsg:function(){return this.$store.getters["images/message"]},img:{get:function(){return this.image},set:function(t){this.$emit("update:image",t)}}},methods:{upload:function(){this.uploadImage=!0},reset:function(){this.uploadedImage={alt:"",url:"",id:""},this.file="",this.payload={file:"",alt:"",type:""}},closeUpload:function(){this.uploadImage=!1,this.reset()},checkFile:function(){var t,e=this;"image"===this.type?t=n.c:"services"===this.type&&(t=n.e),t.where("name","==",this.file.name).get().then((function(t){t.forEach((function(t){t.exists&&(e.uploadImage=!1,e.img.url=t.data().url,e.img.alt=t.data().alt,e.img.id=t.id,e.exists=!0)}))}))},saveFile:function(){var t=this;this.payload={file:this.file,alt:this.uploadedImage.alt,type:this.type},this.$store.dispatch("global/setLoading",!0),this.$store.dispatch("images/uploadImage",this.payload).then((function(e){t.uploadedImage=e,t.$store.dispatch("global/setLoading",!1),t.$emit("update:image",t.uploadedImage),setTimeout((function(){t.reset(),t.uploadImage=!1,t.$store.commit("images/SET_MSG",{})}),4e3)}))}}},r=l(60),c=l(61),d=l.n(c),m=l(416),v=l(443),f=l(435),h=l(428),_=l(819),y=l(817),x=l(189),I=l(430),C=l(427),V=l(608),M=l(77),k=l(437),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("v-btn",{staticClass:"mx-1",on:{click:t.upload}},[t._v("Upload")]),t._v(" "),l("v-dialog",{attrs:{persistent:"",transition:"dialog-bottom-transition"},model:{value:t.uploadImage,callback:function(e){t.uploadImage=e},expression:"uploadImage"}},[l("v-card",[l("v-card-title",{staticClass:"pa-0"},[l("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[l("v-toolbar-title",[t._v("Upload image")]),t._v(" "),l("v-spacer"),t._v(" "),l("v-btn",{attrs:{icon:""},on:{click:t.closeUpload}},[l("v-icon",[t._v("mdi-close")])],1)],1)],1),t._v(" "),l("v-card-text",[l("v-row",[l("v-col",{attrs:{cols:"12"}},[l("v-text-field",{attrs:{label:"Description",inline:""},model:{value:t.uploadedImage.alt,callback:function(e){t.$set(t.uploadedImage,"alt",e)},expression:"uploadedImage.alt"}})],1),t._v(" "),l("v-col",{attrs:{cols:"12"}},[l("v-file-input",{attrs:{label:"File upload","prepend-icon":"mdi-camera",accept:"image/jpeg image/png"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1)],1),t._v(" "),l("v-card-actions",[l("v-btn",{staticClass:"mx-1",attrs:{color:"primary",disabled:""==t.uploadedImage.alt},nativeOn:{click:function(e){return t.saveFile.apply(null,arguments)}}},[t._v("Save")]),t._v(" "),l("v-btn",{staticClass:"mx-1",attrs:{color:"error"},nativeOn:{click:function(e){return t.closeUpload.apply(null,arguments)}}},[t._v("Close")]),t._v(" "),l("transition",{attrs:{name:"fade"}},[l("UIMessage",{attrs:{msg:t.uploadMsg}})],1)],1)],1)],1),t._v(" "),t.exists?l("UiExistsModal",{attrs:{exists:t.exists,image:t.img},on:{"update:exists":function(e){t.exists=e},"update:image":function(e){t.img=e}}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{UIMessage:l(447).default}),d()(component,{VBtn:m.a,VCard:v.a,VCardActions:f.a,VCardText:f.b,VCardTitle:f.c,VCol:h.a,VDialog:_.a,VFileInput:y.a,VIcon:x.a,VRow:I.a,VSpacer:C.a,VTextField:V.a,VToolbar:M.a,VToolbarTitle:k.b})},469:function(t,e,l){"use strict";l.r(e);var n={mixins:[l(446).a],props:{item:{type:Object,default:function(){return{}}},images:{type:Array,default:function(){return[]}}},data:function(){return{selected:"",selectModel:!1,itemData:{},radios:null}},computed:{items:{get:function(){return this.images},set:function(t){return t}}},methods:{select:function(){this.selectModel=!0},saveSelection:function(){this.$emit("update:item",this.selected.itemData),this.selectModel=!1}}},o=l(60),r=l(61),c=l.n(r),d=l(416),m=l(443),v=l(435),f=l(428),h=l(433),_=l(819),y=l(189),x=l(430),I=l(427),C=l(77),V=l(437),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("v-btn",{staticClass:"mx-1",nativeOn:{click:function(e){return t.select.apply(null,arguments)}}},[t._v("Select")]),t._v(" "),l("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:t.selectModel,callback:function(e){t.selectModel=e},expression:"selectModel"}},[l("v-card",[l("v-card-title",{staticClass:"pa-0"},[l("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[l("v-toolbar-title",[t._v("Select an image")]),t._v(" "),l("v-spacer"),t._v(" "),l("v-btn",{attrs:{icon:""},on:{click:function(e){t.selectModel=!1}}},[l("v-icon",[t._v("mdi-close")])],1),t._v(" "),l("v-toolbar-items",[l("v-btn",{attrs:{dark:"",text:"",disabled:""==t.selected},nativeOn:{click:function(e){return t.saveSelection.apply(null,arguments)}}},[t._v("\n              Save\n            ")])],1)],1)],1),t._v(" "),l("v-card-text",[l("v-container",[l("v-row",[t._l(t.paginatedData,(function(e,n){return l("v-col",{key:n,staticClass:"p-0",attrs:{cols:"3"}},[l("div",{staticClass:"custom-control custom-radio custom-control text-center"},[l("img",{staticClass:"img-fluid",attrs:{src:e.url,alt:e.alt}}),t._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:e.id,name:"images",type:"radio"},domProps:{value:{itemData:e},checked:t._q(t.selected,{itemData:e})},on:{change:function(l){t.selected={itemData:e}}}}),t._v(" "),l("label",{staticClass:"custom-control-label",attrs:{for:e.id}},[t._v("\n                  "+t._s(e.alt)+"\n                ")])])])})),t._v(" "),l("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[l("v-btn",{staticClass:"primary",class:{"d-none":0==t.pageNumber},nativeOn:{click:function(e){return t.prevPage.apply(null,arguments)}}},[l("v-icon",[t._v(" mdi-chevron-double-left")])],1),t._v("\n              "+t._s(t.pageNumber+1)+" of "+t._s(t.pageCount)+"\n              "),l("v-btn",{staticClass:"primary",class:{"d-none":t.pageNumber>=t.pageCount-1},nativeOn:{click:function(e){return t.nextPage.apply(null,arguments)}}},[l("v-icon",[t._v(" mdi-chevron-double-right")])],1)],1)],2)],1)],1),t._v(" "),l("v-card-actions",[l("v-btn",{staticClass:"mx-1",attrs:{color:"primary",disabled:""==t.selected},nativeOn:{click:function(e){return t.saveSelection.apply(null,arguments)}}},[t._v("Save")]),t._v(" "),l("v-btn",{staticClass:"mx-1",attrs:{color:"error"},on:{click:function(e){t.selectModel=!1}}},[t._v("Close")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VCol:f.a,VContainer:h.a,VDialog:_.a,VIcon:y.a,VRow:x.a,VSpacer:I.a,VToolbar:C.a,VToolbarItems:V.a,VToolbarTitle:V.b})},471:function(t,e,l){"use strict";l(450)},472:function(t,e,l){var n=l(20)(!1);n.push([t.i,".img-fluid{max-width:100%;height:auto}",""]),t.exports=n}}]);